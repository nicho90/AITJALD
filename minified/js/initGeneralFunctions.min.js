function connectToPopulationTypeDropdownToLoadData(e){$("#populationTypeDropdown").change(function(){0!=selectedFeatures.length&&$("#chart").html('<br><center><i class="fa fa-spinner fa-pulse"></i></center>'),$("#populationTypeDropdown").parent().nextAll().remove();var t=this.value;if("male"==t||"female"==t||"gender"==t){var a="";switch(t){case"male":$("#chart2").remove(),a+='<br><i class="fa fa-male" id="genderIcon"></i>&nbsp;&nbsp;';break;case"female":$("#chart2").remove(),a+='<br><i class="fa fa-female" id="genderIcon"></i>&nbsp;&nbsp;';break;case"gender":a+='<br><i class="fa fa-binoculars" id="genderIcon"></i>&nbsp;&nbsp;'}a+='<div class="ageGroupDropdown">'+language[getCookieObject().language].map.panel.highCharts.title.agePopulation.description+"&nbsp;&nbsp;</div>",a+='<div class="ageGroupDropdown"><select class="form-control" id="ageGroupDropdown"><option id="ageGroupDropdown0" value="all">'+language[getCookieObject().language].map.panel.highCharts.title.agePopulation.all+"</option>",selectedAgeGroup="all";var n={type:"distinctAgeGroups"},o={query:sparqlHTTPConnection.createSparqlQuery(n),display:"json",output:"json"};sparqlHTTPConnection.sparqlPOSTRequest(o,function(n){for(var o=0;o<n.length;o++){var l=n[o].agegroup.value;a+='<option id="ageGroupDropdown'+o+'1" value="'+l+'">'+l+"</option>"}a+="</select></div>",$(".populationDropdown").parent().append(a),e(t),$("#yearSlider").empty().slider("destroy").html(language[getCookieObject().language].genderal.loadingInformation).css("width","150px")})}else $("#chart2").remove(),e(t),$("#yearSlider").empty().slider("destroy").html(language[getCookieObject().language].genderal.loadingInformation).css("width","150px")})}function connectAgeDropdownToMap(e){$("#ageGroupDropdown").change(function(){selectedAgeGroup=this.value,changeStyleForAllLayers(e,!0),changeHighcharts.setDiagram()})}function connectCompareButtonToMap(e){$("#compare_button").click(function(){if(comparingStatus){comparingStatus=!1,toogleCompareAddRemoveBottons(comparingStatus);for(var t=0;t<selectedFeatures.length-1;t++)channelStyle(selectedFeatures[t].layer,!1,densityStyle);selectedFeatures=selectedFeatures.slice(selectedFeatures.length-1,selectedFeatures.length),sparqlHTTPConnection.getDataForFeature(selectedFeatures[0].feature,function(e){changeHighcharts.setDiagram({type:populationType,administrativeLvl:selectedFeatures[0].feature.properties.administrativeLvl,features:[e]})}),changeStyleForAllLayers(e,!0)}else comparingStatus=!0,toogleCompareAddRemoveBottons(comparingStatus),changeStyleForAllLayers(e,!0)})}function toogleCompareAddRemoveBottons(e){e?(setButtonStyle("#compare_button","btn-default","btn-primary"),$("#compare_add_button").show(),$("#compare_remove_button").show(),setButtonStyle("#compare_add_button","btn-default","btn-success"),addStatus=!0):(setButtonStyle("#compare_button","btn-primary","btn-default"),setButtonStyle("#compare_add_button","btn-success","btn-default"),setButtonStyle("#compare_remove_button","btn-danger","btn-default"),$("#compare_add_button").hide(),$("#compare_remove_button").hide(),addStatus=!1)}function setButtonStyle(e,t,a){$(e).removeClass(t).addClass(a)}function setGeneralInformation(e,t){$("#general").html('<div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title"><i class="fa fa-info-circle"></i>&nbsp;&nbsp;<a href="#" data-toggle="collapse" data-target="#generalDiv">'+language[getCookieObject().language].info.heading+'</a></h3></div><div class="table-responsive collapse" id="generalDiv"><table class="table table-striped" id="generalTable"><thead><th>Subject</th><th>Predicate</th><th>Object</th></thead><tbody></tbody></table></div></div>');for(var a='<span class="label label-primary">'+e.properties.lodcomName+"</span>",n=0;n<t.length;n++){var o=!0,l=t[n].predicate.value,s=t[n].object;if(l==GEOSPARQLPREFIX+"sfContains"?l='<a href="'+GEOSPARQLPREFIX+'sfContains" target="_blank">gn:sfContains</a>':l==GEOSPARQLPREFIX+"sfWithin"?l='<a href="'+GEOSPARQLPREFIX+'sfWithin" target="_blank">geo:sfWithin</a>':l==GEOPREFIX+"wgs84_pos#lon"?l='<a href="'+GEOPREFIX+'#wgs84_poslon" target="_blank">geo:wgs84_poslon</a>':l==GEOPREFIX+"wgs84_pos#lat"?l='<a href="'+GEOPREFIX+'wgs84_poslat" target="_blank">geo:wgs84_poslat</a>':l==GNPREFIX+"wikipediaArticle"?l='<a href="'+GNPREFIX+'wikipediaArticle" target="_blank">gn:wikipediaArticle</a>':l==GNPREFIX+"countryCode"?l='<a href="'+GNPREFIX+'countryCode" target="_blank">gn:countryCode</a>':l==GNPREFIX+"alternateName"?l='<a href="'+GNPREFIX+'alternateName" target="_blank">gn:alternateName</a>':l==GNPREFIX+"name"?l='<a href="'+GNPREFIX+'name" target="_blank">gn:Name</a>':l==GNPREFIX+"parentFeature"?l='<a href="'+GNPREFIX+'parentFeature" target="_blank">gn:parentFeature</a>':l==OWLPREFIX+"sameAs"?l='<a href="'+OWLPREFIX+'sameAs" target="_blank">owl:sameAs</a>':"type"==l?l='<a href="'+RDFPREFIX+'type" target="_blank">rdf:type</a>':o=!1,"literal"==s.type||"typed-literal"==s.type)if(s.value.includes("http://")||s.value.includes("https://"))s='<a href="'+s.value+'" target="_blank">'+s.value+"</a>";else{var r=s["xml:lang"];s=r?"en"==r?"<kbd>"+s.value+'</kbd> <span class="flag-icon flag-icon-gb"></span>':"de"==r?"<kbd>"+s.value+'</kbd> <span class="flag-icon flag-icon-de"></span>':"<kbd>"+s.value+"</kbd>":"<kbd>"+s.value+"</kbd>"}else"uri"==s.type?s.value==GNPREFIX+"Feature"?s='<a href="'+GNPREFIX+'Feature" target="_blank">gn:Feature</a>':s.value==DBPPREFIX+"City"?s='<a href="'+DBPPREFIX+'District" target="_blank">dbp:City</a>':s.value==DBPPREFIX+"District"?s='<a href="'+DBPPREFIX+'District" target="_blank">dbp:District</a>':s.value==DBPPREFIX+"CityDistrict"?s='<a href="'+DBPPREFIX+'CityDistrict" target="_blank">dbp:CityDistrict</a>':s.value.includes(LODCOMPREFIX)&&(s='<span class="label label-default">'+s.value.replace(LODCOMPREFIX,"")+"</span>"):s=s.value;var i="<tr><td>"+a+"</td><td>"+l+"</td><td>"+s+"</td></tr>";o&&$("#generalTable tbody").append(i)}}function resetGeneralInformation(){$("#general").html("")}$(document).ready(function(){var e=function(){var e="mmmmmmmmmwwwwwww",t='"Comic Sans MS"',a=0,n=null,o=0;return{setup:function(){$("#fontInstalledTest").length||($("head").append("<style> #fontInstalledTest, #fontTestBed { position: absolute; left: -9999px; top: 0; visibility: hidden; } #fontInstalledTest { font-size: 50px!important; font-family: "+t+";}</style>"),$("body").append('<div id="fontTestBed"></div>').append('<span id="fontInstalledTest" class="fonttest">'+e+"</span>"),n=$("#fontTestBed"),a=$("#fontInstalledTest").width())},isInstalled:function(l){o++;var s='<style id="fonttestStyle"> #fonttest'+o+" { font-size: 50px!important; font-family: "+l+", "+t+"; } </style>";return $("head").find("#fonttestStyle").remove().end().append(s),n.empty().append('<span id="fonttest'+o+'" class="fonttest">'+e+"</span>"),n.find("span").width()!=a}}}();e.setup();var t=e.isInstalled("Apple Color Emoji"),a=e.isInstalled("Segoe UI Emoji"),n=e.isInstalled("NotoColorEmoji"),o=e.isInstalled("Android Emoji"),l=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;l?($("#en_US").html('<span class="flag-icon flag-icon-gb"></span>'),$("#de_DE").html('<span class="flag-icon flag-icon-de"></span>')):t||a||n||o?($("#en_US").html("&#x1F1FA;&#x1F1F8;"),$("#de_DE").html("&#x1F1E9;&#x1F1EA;")):($("#en_US").html('<span class="flag-icon flag-icon-gb"></span>'),$("#de_DE").html('<span class="flag-icon flag-icon-de"></span>'))});var addStatus=!1;switch($("#germanLanguageSwitcher").click(function(){"de"!==getCookieObject().language&&(document.cookie="language = de",location.reload())}),$("#englishLanguageSwitcher").click(function(){"en"!==getCookieObject().language&&(document.cookie="language = en",location.reload())}),getCookieObject().language){case"de":$("#germanLanguageSwitcher").addClass("active");break;case"en":$("#englishLanguageSwitcher").addClass("active")}$("#compare_add_button").click(function(){addStatus=!0,setButtonStyle("#compare_add_button","btn-default","btn-success"),setButtonStyle("#compare_remove_button","btn-danger","btn-default")}),$("#compare_remove_button").click(function(){addStatus=!1,setButtonStyle("#compare_add_button","btn-success","btn-default"),setButtonStyle("#compare_remove_button","btn-default","btn-danger")});